# çŸ¥ç½‘æ–‡çŒ®è‡ªåŠ¨ä¸‹è½½ Prompt

## ä½¿ç”¨è¯´æ˜

æ­¤ Prompt ç”¨äºé€šè¿‡ Chrome DevTools MCP å·¥å…·è‡ªåŠ¨ä¸‹è½½çŸ¥ç½‘æ–‡çŒ®å¹¶ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ã€‚

## å‰ç½®æ¡ä»¶

1. å·²å®‰è£…å¹¶é…ç½® Chrome DevTools MCP å·¥å…·
2. å·²åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€çŸ¥ç½‘æœç´¢ç»“æœé¡µé¢
3. å·²é€šè¿‡æ­å·å›¾ä¹¦é¦†VPNç™»å½•çŸ¥ç½‘

## æ ‡å‡†å·¥ä½œæµ

### æ­¥éª¤1ï¼šæ‰“å¼€çŸ¥ç½‘æœç´¢é¡µé¢
```
ä½¿ç”¨Chrome MCPæ‰“å¼€çŸ¥ç½‘æœç´¢ç»“æœé¡µï¼š
http://sq.zjhzlib.cn/https/vpn/2/NNYHGLUDN3WXTLUPMW4A/kns8s/defaultresult/index?[æœç´¢å‚æ•°]
```

### æ­¥éª¤2ï¼šè‡ªåŠ¨ä¸‹è½½æ–‡çŒ®ï¼ˆå•ä¸ªï¼‰

**æ“ä½œæµç¨‹ï¼š**
1. è·å–åˆ—è¡¨é¡µå¿«ç…§ï¼ˆtake_snapshotï¼‰
2. ç‚¹å‡»æ–‡çŒ®æ ‡é¢˜é“¾æ¥ â†’ åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€è¯¦æƒ…é¡µ
3. åˆ‡æ¢åˆ°è¯¦æƒ…é¡µï¼ˆselect_pageï¼‰
4. è·å–è¯¦æƒ…é¡µå¿«ç…§ï¼Œæ‰¾åˆ° "PDFä¸‹è½½" æŒ‰é’®çš„ uid
5. ç‚¹å‡» "PDFä¸‹è½½" æŒ‰é’®
6. PDFè‡ªåŠ¨ä¸‹è½½åˆ° `~/Downloads/` ç›®å½•

### æ­¥éª¤3ï¼šæ‰¹é‡ä¸‹è½½æ–‡çŒ®

**å¾ªç¯æ‰§è¡Œæ­¥éª¤2**ï¼Œé’ˆå¯¹ç¬¬Nä¸ªæ–‡çŒ®ï¼š
- ä»åˆ—è¡¨é¡µå¿«ç…§ä¸­æ‰¾åˆ°ç¬¬Nä¸ªæ–‡çŒ®çš„æ ‡é¢˜é“¾æ¥uid
- ç‚¹å‡»æ‰“å¼€è¯¦æƒ…é¡µ
- åˆ‡æ¢åˆ°æ–°æ ‡ç­¾é¡µ
- ç‚¹å‡»PDFä¸‹è½½
- è¿”å›åˆ—è¡¨é¡µ

### æ­¥éª¤4ï¼šç§»åŠ¨ä¸‹è½½çš„æ–‡ä»¶

ç­‰å¾…ä¸‹è½½å®Œæˆåï¼Œæ‰¹é‡ç§»åŠ¨æ–‡ä»¶ï¼š
```bash
mv ~/Downloads/*.pdf "/ç›®æ ‡è·¯å¾„/"
```

æˆ–ä½¿ç”¨æ—¶é—´è¿‡æ»¤ç§»åŠ¨æœ€è¿‘ä¸‹è½½çš„æ–‡ä»¶ï¼š
```bash
find ~/Downloads -name "*.pdf" -mmin -10 -exec mv {} "/ç›®æ ‡è·¯å¾„/" \;
```

## ä¼˜åŒ–æ–¹æ¡ˆ

### å…³é”®å‘ç°
- âœ… çŸ¥ç½‘è‡ªåŠ¨æŒ‰ `æ ‡é¢˜_ä½œè€….pdf` æ ¼å¼å‘½åæ–‡ä»¶
- âŒ åˆ—è¡¨é¡µçš„"ä¸‹è½½"æŒ‰é’®ä¼šå…ˆè·³è½¬åˆ°è¯¦æƒ…é¡µï¼ˆæµ‹è¯•å‘ç°ï¼‰
- âš ï¸ æ¯ä¸ªè¯¦æƒ…é¡µä¼šåˆ›å»ºæ–°æ ‡ç­¾é¡µï¼Œéœ€æ³¨æ„æ ‡ç­¾é¡µç´¯ç§¯

### æ”¹è¿›ç‚¹

#### 1. æ‰¹é‡å¹¶è¡Œæ‰“å¼€é¡µé¢ï¼ˆæ¨èï¼‰â­

**æ ¸å¿ƒæ€è·¯ï¼š** ä¸€æ¬¡æ€§æ‰“å¼€å¤šä¸ªè¯¦æƒ…é¡µï¼Œç„¶åä¾æ¬¡åˆ‡æ¢é¡µé¢ç‚¹å‡»ä¸‹è½½ï¼Œå¤§å¹…å‡å°‘ç­‰å¾…æ—¶é—´ã€‚

**å®æ–½æ­¥éª¤ï¼š**

1. åœ¨åˆ—è¡¨é¡µä½¿ç”¨JavaScriptè·å–æ–‡çŒ®è¯¦æƒ…é¡µé“¾æ¥ï¼š
```javascript
evaluate_script: () => {
  const rows = document.querySelectorAll('table.result-table-list tbody tr');
  const links = [];
  for (let i = startIdx; i < endIdx; i++) {
    const titleLink = rows[i].querySelector('a.fz14');
    if (titleLink) {
      links.push({
        index: i + 1,
        title: titleLink.textContent.trim(),
        href: titleLink.href
      });
    }
  }
  return links;
}
```

2. ä½¿ç”¨ `window.open` æ‰¹é‡æ‰“å¼€5ä¸ªè¯¦æƒ…é¡µï¼š
```javascript
evaluate_script: (links) => {
  links.forEach(link => {
    window.open(link.href, '_blank');
  });
  return `å·²æ‰“å¼€ ${links.length} ä¸ªé¡µé¢`;
}
```

3. ä¾æ¬¡åˆ‡æ¢åˆ°æ¯ä¸ªæ–°æ‰“å¼€çš„é¡µé¢å¹¶ä¸‹è½½ï¼š
```
for each new page:
  - select_page(pageIdx)
  - take_snapshot()
  - æ‰¾åˆ° "PDFä¸‹è½½" æŒ‰é’®çš„ uid
  - click(uid)
  - ç­‰å¾…2-3ç§’
```

4. æ¸…ç†å·²ç”¨æ ‡ç­¾é¡µï¼ˆå¯é€‰ï¼‰ï¼š
```
ä½¿ç”¨ close_page(pageIdx) å…³é—­å·²ä¸‹è½½çš„è¯¦æƒ…é¡µ
```

**ä¼˜åŠ¿ï¼š**
- âš¡ å¹¶è¡ŒåŠ è½½é¡µé¢ï¼ŒèŠ‚çœç­‰å¾…æ—¶é—´
- ğŸ¯ é€‚åˆæ‰¹é‡ä¸‹è½½5-10ç¯‡æ–‡çŒ®
- ğŸ”„ å‡å°‘é¡µé¢åˆ‡æ¢æ¬¡æ•°

**æ³¨æ„äº‹é¡¹ï¼š**
- å»ºè®®ä¸€æ¬¡æ‰“å¼€ä¸è¶…è¿‡10ä¸ªé¡µé¢ï¼Œé¿å…æµè§ˆå™¨è´Ÿè½½è¿‡é«˜
- çŸ¥ç½‘å¯èƒ½æœ‰å¹¶å‘é™åˆ¶ï¼Œæ³¨æ„æ§åˆ¶é¢‘ç‡

#### 2. è‡ªåŠ¨æ–‡ä»¶ç§»åŠ¨
åœ¨ä¸‹è½½å‰å¯åŠ¨åå°ç›‘æ§è„šæœ¬ï¼Œå®æ—¶ç§»åŠ¨PDFæ–‡ä»¶ï¼š

```bash
# åå°è¿è¡Œæ–‡ä»¶ç›‘æ§
inotifywait -m ~/Downloads/ -e close_write --format '%f' | 
while read file; do
  if [[ "$file" == *.pdf ]]; then
    mv ~/Downloads/"$file" "/ç›®æ ‡è·¯å¾„/"
  fi
done &

# è®°å½•è¿›ç¨‹IDä»¥ä¾¿åç»­åœæ­¢
echo $! > /tmp/cnki_download_monitor.pid
```

åœæ­¢ç›‘æ§ï¼š
```bash
kill $(cat /tmp/cnki_download_monitor.pid)
rm /tmp/cnki_download_monitor.pid
```

#### 3. å…³é—­å·²ç”¨æ ‡ç­¾é¡µ
ä¸‹è½½å®Œæˆåå…³é—­è¯¦æƒ…é¡µæ ‡ç­¾ï¼Œé¿å…ç´¯ç§¯ï¼š
```
ä½¿ç”¨ close_page(pageIdx) å…³é—­å·²ä½¿ç”¨çš„è¯¦æƒ…é¡µ
ä¿ç•™åˆ—è¡¨é¡µ(pageIdx=0)ç”¨äºç»§ç»­ä¸‹è½½
```

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹å‘½ä»¤ï¼ˆç»™AIï¼‰

```
ä½¿ç”¨Chrome MCPå·¥å…·ï¼š
1. æ‰“å¼€çŸ¥ç½‘æœç´¢é¡µé¢ï¼š[URL]
2. ä¸‹è½½ç¬¬1-5ä¸ªæ–‡çŒ®çš„PDF
3. ä¿å­˜åˆ°ï¼š/home/qiao/Desktop/Git Repo/Creating-Systematology/# ç³»ç»Ÿç§‘å­¦èµ„æº/æ–‡çŒ®PDF/é’±å­¦æ£®-ä½œè€…-ç›¸å…³èµ„æ–™ï¼ˆæ€»åº“299ï¼‰/
```

### å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆç»™AIï¼‰

**æ–¹æ³•ä¸€ï¼šæ‰¹é‡å¹¶è¡Œæ‰“å¼€ï¼ˆæ¨èï¼‰**
```
1. åœ¨åˆ—è¡¨é¡µä½¿ç”¨evaluate_scriptè·å–ç¬¬N-Mä¸ªæ–‡çŒ®çš„è¯¦æƒ…é¡µé“¾æ¥
2. ä½¿ç”¨evaluate_scriptæ‰¹é‡æ‰“å¼€æ‰€æœ‰è¯¦æƒ…é¡µï¼ˆwindow.openï¼‰
3. ç­‰å¾…3-5ç§’è®©é¡µé¢åŠ è½½
4. ä½¿ç”¨list_pagesæŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„é¡µé¢
5. ä¾æ¬¡åˆ‡æ¢åˆ°æ¯ä¸ªè¯¦æƒ…é¡µï¼š
   - select_page(pageIdx)
   - take_snapshot()
   - ç‚¹å‡»PDFä¸‹è½½æŒ‰é’®
   - ç­‰å¾…2ç§’
6. æ‰¹é‡ç§»åŠ¨ä¸‹è½½çš„æ–‡ä»¶åˆ°ç›®æ ‡è·¯å¾„
7. æ¸…ç†å·²ç”¨æ ‡ç­¾é¡µï¼ˆå¯é€‰ï¼‰
```

**æ–¹æ³•äºŒï¼šä¸²è¡Œé€ä¸ªä¸‹è½½ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰**
```
1. å¯åŠ¨æ–‡ä»¶ç›‘æ§è„šæœ¬ï¼ˆåå°è¿è¡Œï¼‰
2. è·å–çŸ¥ç½‘åˆ—è¡¨é¡µå¿«ç…§
3. å¾ªç¯ä¸‹è½½æ–‡çŒ®ï¼š
   - ç‚¹å‡»ç¬¬Nä¸ªæ–‡çŒ®æ ‡é¢˜
   - åˆ‡æ¢åˆ°æ–°æ ‡ç­¾é¡µ
   - ç‚¹å‡»PDFä¸‹è½½
   - å…³é—­è¯¦æƒ…é¡µæ ‡ç­¾
   - è¿”å›åˆ—è¡¨é¡µ
4. ç­‰å¾…æ‰€æœ‰ä¸‹è½½å®Œæˆ
5. åœæ­¢æ–‡ä»¶ç›‘æ§è„šæœ¬
6. ç¡®è®¤æ–‡ä»¶å·²å…¨éƒ¨ç§»åŠ¨
```

## ç›®æ ‡è·¯å¾„é…ç½®

å½“å‰é»˜è®¤è·¯å¾„ï¼š
```
/home/qiao/Desktop/Git Repo/Creating-Systematology/# ç³»ç»Ÿç§‘å­¦èµ„æº/æ–‡çŒ®PDF/é’±å­¦æ£®-ä½œè€…-ç›¸å…³èµ„æ–™ï¼ˆæ€»åº“299ï¼‰/
```

å¯æ ¹æ®ä¸åŒæœç´¢ä¿®æ”¹ä¸ºå…¶ä»–å­æ–‡ä»¶å¤¹ã€‚

## æ³¨æ„äº‹é¡¹

1. æ¯æ¬¡ä¸‹è½½é—´éš”å»ºè®®2-3ç§’ï¼Œé¿å…è§¦å‘çŸ¥ç½‘åçˆ¬æœºåˆ¶
2. æ£€æŸ¥æ–‡ä»¶å¤§å°ç¡®è®¤ä¸‹è½½å®Œæ•´ï¼ˆçŸ¥ç½‘æ–‡ä»¶é€šå¸¸>50KBï¼‰
3. åˆ—è¡¨é¡µä¼šåœ¨æ–°æ ‡ç­¾æ‰“å¼€è¯¦æƒ…é¡µï¼Œéœ€å®šæœŸæ¸…ç†æ ‡ç­¾
4. ä¸‹è½½å¤±è´¥æ—¶æ£€æŸ¥VPNè¿æ¥å’Œç™»å½•çŠ¶æ€

## æŠ€æœ¯ç»†èŠ‚

- **Chrome MCPå·¥å…·**ï¼šä½¿ç”¨ `chrome-devtools-mcp` (é€šè¿‡npxè¿è¡Œ)
- **æ–‡ä»¶å‘½å**ï¼šçŸ¥ç½‘è‡ªåŠ¨å‘½åä¸º `æ–‡çŒ®æ ‡é¢˜_ç¬¬ä¸€ä½œè€….pdf`
- **ä¸‹è½½ä½ç½®**ï¼šChromeé»˜è®¤ `~/Downloads/` ç›®å½•
- **ç§»åŠ¨æ–¹å¼**ï¼šbash `mv` å‘½ä»¤æ‰¹é‡ç§»åŠ¨æˆ–inotifyå®æ—¶ç›‘æ§

## å®Œæ•´ä»£ç ç¤ºä¾‹

### æ‰¹é‡å¹¶è¡Œä¸‹è½½ç¤ºä¾‹ï¼ˆç¬¬11-15ç¯‡ï¼‰

```javascript
// æ­¥éª¤1ï¼šè·å–æ–‡çŒ®é“¾æ¥
const links = await evaluate_script(() => {
  const rows = document.querySelectorAll('table.result-table-list tbody tr');
  const links = [];
  for (let i = 10; i < 15; i++) {  // ç¬¬11-15ç¯‡ï¼ˆç´¢å¼•10-14ï¼‰
    const titleLink = rows[i]?.querySelector('a.fz14');
    if (titleLink) {
      links.push({
        index: i + 1,
        title: titleLink.textContent.trim(),
        href: titleLink.href
      });
    }
  }
  return links;
});

// æ­¥éª¤2ï¼šæ‰¹é‡æ‰“å¼€è¯¦æƒ…é¡µ
await evaluate_script(() => {
  const links = /* ä¼ å…¥ä¸Šä¸€æ­¥çš„links */;
  links.forEach(link => {
    window.open(link.href, '_blank');
  });
  return `å·²æ‰“å¼€ ${links.length} ä¸ªè¯¦æƒ…é¡µ`;
});

// æ­¥éª¤3ï¼šç­‰å¾…é¡µé¢åŠ è½½
await sleep(5000);  // ç­‰å¾…5ç§’

// æ­¥éª¤4ï¼šä¾æ¬¡åˆ‡æ¢é¡µé¢å¹¶ä¸‹è½½
const pages = await list_pages();
for (let i = 1; i < pages.length; i++) {  // è·³è¿‡ç´¢å¼•0çš„åˆ—è¡¨é¡µ
  await select_page(i);
  const snapshot = await take_snapshot();
  
  // æŸ¥æ‰¾PDFä¸‹è½½æŒ‰é’®ï¼ˆuidåŒ…å«"PDFä¸‹è½½"ï¼‰
  const downloadBtn = snapshot.find(el => el.text === 'PDFä¸‹è½½');
  
  if (downloadBtn) {
    await click(downloadBtn.uid);
    await sleep(2000);  // ç­‰å¾…2ç§’è®©ä¸‹è½½å¼€å§‹
  }
}

// æ­¥éª¤5ï¼šç§»åŠ¨æ–‡ä»¶
await run_terminal_cmd(`
  find ~/Downloads -name "*.pdf" -mmin -10 -exec mv {} "/ç›®æ ‡è·¯å¾„/" \\;
`);
```

### æ³¨æ„äº‹é¡¹

1. **é¡µé¢ç´¢å¼•å˜åŒ–**ï¼šæ‰¹é‡æ‰“å¼€é¡µé¢åï¼Œlist_pagesè¿”å›çš„ç´¢å¼•ä¼šå˜åŒ–ï¼Œéœ€è¦é‡æ–°è·å–
2. **ä¸‹è½½é—´éš”**ï¼šå»ºè®®æ¯æ¬¡ç‚¹å‡»ä¸‹è½½åç­‰å¾…2-3ç§’ï¼Œé¿å…è§¦å‘çŸ¥ç½‘é™åˆ¶
3. **é”™è¯¯å¤„ç†**ï¼šéƒ¨åˆ†æ–‡çŒ®å¯èƒ½æ²¡æœ‰PDFï¼Œéœ€è¦æ£€æŸ¥æŒ‰é’®æ˜¯å¦å­˜åœ¨
4. **æ¸…ç†æ ‡ç­¾**ï¼šä¸‹è½½å®Œæˆåå»ºè®®å…³é—­è¯¦æƒ…é¡µæ ‡ç­¾ï¼Œé¿å…æµè§ˆå™¨å ç”¨è¿‡å¤šèµ„æº

